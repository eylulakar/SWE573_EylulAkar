<!DOCTYPE html>
<html xlmns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>Add Food Activity | Stay Healthy</title>
<meta name="keywords" content="HTML5 Template" />
<meta name="description"
	content="Progressive — Responsive Multipurpose HTML Template" />
<meta name="author" content="itembridge.com" />
<meta class="viewport" name="viewport"
	content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<!-- Favicon -->
<link rel="shortcut icon" href="resources/img/favicon.ico" />


<!-- Font -->
<link rel='stylesheet'
	href='http://fonts.googleapis.com/css?family=Arimo:400,700,400italic,700italic' />

<!-- Plugins CSS -->
<link rel="stylesheet" href="resources/css/bootstrap.css" />
<link rel="stylesheet" href="resources/css/font-awesome.min.css" />
<link rel="stylesheet" href="resources/css/jslider.css" />
<link rel="stylesheet" href="resources/css/revslider/settings.css" />
<link rel="stylesheet" href="resources/css/jquery.fancybox.css" />
<link rel="stylesheet" href="resources/css/animate.css" />
<link rel="stylesheet" href="resources/css/video-js.min.css" />
<link rel="stylesheet" href="resources/css/morris.css" />
<link rel="stylesheet"
	href="resources/css/royalslider/skins/minimal-white/rs-minimal-white.css" />
<link rel="stylesheet"
	href="resources/css/layerslider/css/layerslider.css" />
<link rel="stylesheet" href="resources/css/ladda.min.css" />
<link rel="stylesheet" href="resources/css/datepicker.css" />
<link rel="stylesheet" href="resources/css/jquery.scrollbar.css" />

<!-- Theme CSS -->
<link rel="stylesheet" href="resources/css/style.css" />

<link rel="stylesheet" href="resources/css/site.css" />

<!-- Custom CSS -->
<link rel="stylesheet" href="resources/css/customizer/pages.css" />
<link rel="stylesheet"
	href="resources/css/customizer/pages-pages-customizer.css" />

<!-- IE Styles-->
<link rel='stylesheet' href="resources/css/ie/ie.css" />

<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js" /></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js" /></script>
		<link rel='stylesheet' href="resources/css/ie/ie8.css" />
  <![endif]-->

 
	<link rel="stylesheet" href="resources/css/jquery-ui.css" />
</head>
<body>
	<div class="page-box">
		<div class="page-box-content">

			<div id="top-box">
				<div class="top-box-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-xs-9 col-sm-5">
								<div class="btn-group language btn-select"></div>
								<div class="btn-group currency btn-select"></div>
							</div>

							<div class="col-xs-3 col-sm-7">
								<div class="navbar navbar-inverse top-navbar top-navbar-right"
									role="navigation">
									<button type="button"
										class="navbar-toggle btn-navbar collapsed"
										data-toggle="collapse"
										data-target=".top-navbar .navbar-collapse">
										<span class="icon-bar"></span> <span class="icon-bar"></span>
										<span class="icon-bar"></span>
									</button>
									<nav class="collapse collapsing navbar-collapse">
										<ul class="nav navbar-nav navbar-right">
											<li><a href="/profile"><span id="spanUser"></span></a></li>
											<li><a href="/settings">Settings</a></li>
											<li><a href="#" onclick="logout()">Log out <i
													class="fa fa-lock after"></i></a></li>
										</ul>
									</nav>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- #top-box -->
			
			<header class="header">
				<div class="header-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-xs-6 col-md-2 col-lg-3 logo-box">
								<div class="logo">
									<a href="/home"> <img src="resources/img/logo.png"
										class="logo-img" alt="" />
									</a>
								</div>
							</div>
							<!-- .logo-box -->

							<div class="col-xs-6 col-md-10 col-lg-9 right-box">
								<div class="right-box-wrapper">
								
									<div class="primary">
										<div class="navbar navbar-default" role="navigation">
											<button type="button"
												class="navbar-toggle btn-navbar collapsed"
												data-toggle="collapse"
												data-target=".primary .navbar-collapse">
												<span class="text">Menu</span> <span class="icon-bar"></span>
												<span class="icon-bar"></span> <span class="icon-bar"></span>
											</button>

											<nav class="collapse collapsing navbar-collapse">
												<ul class="nav navbar-nav navbar-center">
													<li class="parent"><a href="#">Food Activity</a>
														<ul class="sub">
															<li><a href="/food-add">Add Food Activity</a></li>
															<li><a href="/my-food-activities">My Food Activities</a></li>
														
														</ul></li>
													<li class="parent"><a href="#">Physical Activity</a>
														<ul class="sub">
															<li><a href="/physical-activity-add">Add Physical Activity</a></li>
															<li><a href="/my-physical-activities">My Physical Activities</a></li>
															<li><a href="/physical-activity-list">Physical Activities List</a></li>
														</ul></li>
													<li class="parent"><a href="/statistics">Statistics</a></li>
												</ul>
											</nav>
										</div>
									</div>
									<!-- .primary -->
								</div>
							</div>

							<div class="phone-active col-sm-9 col-md-9">
								<a href="#" class="close"><span>close</span>×</a> <span
									class="title">Call Us</span> <strong>+1 (777) 123 45
									67</strong>
							</div>
							<div class="search-active col-sm-9 col-md-9">
								<a href="#" class="close"><span>close</span>×</a>

							</div>
						</div>
						<!--.row -->
					</div>
				</div>
				<!-- .header-wrapper -->
			</header>
			<!-- .header -->

			<div class="breadcrumb-box">
				<div class="container">
					<ul class="breadcrumb">
						<li><a href="/home">Home</a></li>
						<li class="active">Add Food Activity </li>
					</ul>
				</div>
			</div>
			<!-- .breadcrumb-box -->

			<section id="main" class="login-register">
				<header class="page-header">
					<div class="container">
						<h1 class="title">Add Food Activity </h1>
					</div>
				</header>
				<div class="container">
					<div class="row">
						<div class="content col-sm-9 col-md-9">
						
							<form class="form-horizontal" role="form" id="formFoodAdd">
								<div class="form-group" style="margin-bottom: 0px;">
								  <label for="inputSearchFood" class="col-sm-2 control-label">Food:</label>
								  <div class="col-sm-10">
									<input type="text" class="form-control" id="inputSearchFood" name="inputSearchFood" placeholder="Type Food" />
									<input type="text" name="inputSelectedFoodNdbno" id="inputSelectedFoodNdbno" style="border:2px solid red !important;" class="hide"/>
								  </div>
								 
								  <div id="divSelectedFoodDetails" style="margin-top: 55px;" class="hide">	
										<div class="panel-group" id="accordion5">
										 <div class="panel panel-info">
												<div class="panel-heading">
												  <div class="panel-title">
													<a data-toggle="collapse" data-parent="#accordion5" href="#collapse53">
													Nutritional Values
													</a>
												  </div>
												</div>
												<div id="collapse53" class="panel-collapse collapse">
												  <div class="panel-body">
													 <div id="divSelectedFoodDetailsContentLoading" class="hide">
																<img src="/resources/img/loading_big.gif"
																	style="display: block; margin: auto;" width="40px" />													
											
												  	</div>
												  	<div id="divSelectedFoodDetailsContent">
													</div>
												</div>
										 	 </div>	
										</div> 	
										 </div> 
								   		
									</div>
								
								</div>
								
								<div class="form-group" style="margin-top: 20px;">
								  <label for="selectMeasuresList" class="col-sm-2 control-label">Measure:</label>
									 <div class="col-sm-10">										
									 	<select id="selectMeasuresList" class="selectBox" style="width:80% !important; margin-bottom: 0px;" name="selectMeasuresList">											
										</select>
										<div id="divLoadingMeasureLabel" class="hide">
																<img src="/resources/img/loading_big.gif"
																	style="display: block; margin: auto;" width="40px" />
										</div>	
									</div>			
									  <input type="text" id="inputMeasureLabel" name="inputMeasureLabel" style="width:100px;display:none;"/>
												 		  
								</div>
								<div class="form-group">
									 <label for="inputAmount" class="col-sm-2 control-label">Amount:</label>
										 <div class="col-sm-10">	
										  <input type="text" class="form-control" id="inputAmount" name="inputAmount" placeholder="Amount" style="width:100px;display:inline-block !important;"/>
										  <span style="font-weight:bold;padding-left:5px;padding-right:10px;">Total Calories:</span><input type="text" class="form-control" id="inputTotalCalories" name="inputTotalCalories" placeholder="Total Calories" style="width:130px;display:inline-block !important;" disabled="disabled" />
										 </div>
								</div>
								<div class="form-group">
								  <label for="inputFoodActivityDate" class="col-sm-2 control-label">Consumed Date:</label>
								  <div class="col-sm-10">
									<input type="text" class="form-control" id="inputFoodActivityDate"  name="inputFoodActivityDate" placeholder="Date" style="width:200px;"/>		
								  </div>
								</div>
								<div class="form-group">
								  <label for="inputFoodActivityNotes" class="col-sm-2 control-label">Notes:</label>
								  <div class="col-sm-10">
									<textarea class="form-control" rows="3" id="inputFoodActivityNotes" name="inputFoodActivityNotes" placeholder="My notes about this food activity"></textarea>	
								  </div>
								</div>
								<div class="form-group">
											<div class="col-sm-offset-2 col-sm-10">
												<table>
													<tr>
														<td>
															<button type="submit" class="btn btn-default"
																id="btnFoodAdd">Add</button>
																<button type="button" class="btn btn-default"
																id="btnClear">Clear</button>
														</td>
														<td><div id="divLoadingFoodAdd" class="hide">
																<img src="/resources/img/loading_big.gif"
																	style="display: block; margin: auto;" width="40px" />
															</div></td>
														<td><div id="divSuccessMessage" class="successMessage" style="padding-left: 10px;"></div>
														<div id="divErrorMessage" class="errorMessage" style="padding-left: 10px;"></div>
														</td>
													</tr>
												</table>
		
		
		
											</div>
										</div>
										
							</form>							
		 
							
						<div id="divList" style="padding-top: 20px;">
		    			 <h3 style="font-weight:bold;font-size:20px;">Recent Food Activities</h3>
		    			 <div id="divActivityDeleteMessage" class="successMessage" style="padding:10px;"></div>
							<div id="divLoadingActivityDelete" class="loading-content" style="height:100px !important;display:none;">
								<img src="/resources/img/loading_big.gif"
									style="display: block; margin: auto;" width="75px" />
							</div>	
		 					<div id="divLoading" class="loading-content">
								<img src="/resources/img/loading_big.gif"
									style="display: block; margin: auto;" width="75px" />
							</div>						
							<article class="content col-sm-12 col-md-12" id="divArticleActivity">	
								 <div id="divTotalCalories" class="successMessage" style="padding-bottom:10px;"></div>	
									<div class="bs-example" id="divRecentActivityList" style="padding-top: 10px;">
										
									</div>
									<!-- /example -->
									<div class="highlight"><pre></pre></div>								
							</article>
				 		   	 
						</div>

							<!-- .content -->
						</div>
 										
						<div id="sidebar" class="sidebar col-sm-3 col-md-3">
										<aside class="widget menu">										
										  <nav>
											<ul>
											 <li style="background-color:#cfdade;">
												<a href="/food-add"><i class="fa fa-cutlery item-icon"></i>Add Food Activity</a>
											  </li>
											 <li>
												<a href="/my-food-activities"><i class="fa fa-glass item-icon"></i>My Food Activities</a>
											  </li>																				 
											</ul>
										  </nav>
										</aside><!-- .menu-->
						 </div>


					</div>
				</div>
				<!-- .container -->
			</section>
			<!-- #main -->

		</div>
		<!-- .page-box-content -->
	</div>
	<!-- .page-box -->

	<footer id="footer">
		<div class="footer-top">
			<div class="container">
				<div class="row sidebar">
					<aside class="col-xs-12 col-sm-6 col-md-3 widget social">
						<header>
							<h3 class="title">Follow Us</h3>
						</header>
						<p>Follow us in social media</p>
						<div class="social-list">
							<a class="icon rounded icon-facebook" href="#"><i
								class="fa fa-facebook"></i></a> <a class="icon rounded icon-twitter"
								href="#"><i class="fa fa-twitter"></i></a> <a
								class="icon rounded icon-google" href="#"><i
								class="fa fa-google"></i></a> <a class="icon rounded icon-linkedin"
								href="#"><i class="fa fa-linkedin"></i></a>
						</div>
						<div class="clearfix"></div>
					</aside>

					<aside class="col-xs-12 col-sm-6 col-md-3 widget newsletter">
						<header>
							<h3 class="title">Newsletter Signup</h3>
						</header>
						<div>
							<p>Sign up for newsletter</p>
							<div class="clearfix"></div>

						</div>
					</aside>
					<!-- .newsletter -->

				 
					<aside class="col-xs-12 col-sm-6 col-md-3 widget links">
						<header>
							<h3 class="title">Information</h3>
						</header>
						<nav>
							<ul>
								<li><a href="#">About us</a></li>
								<li><a href="#">Privacy Policy</a></li>
								<li><a href="#">Terms &amp; Condotions</a></li>
							 
							</ul>
						</nav>
					</aside>
				</div>
			</div>
		</div>
		<!-- .footer-top -->
		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					<div class="copyright col-xs-12 col-sm-3 col-md-3">Copyright
						© StayHealthy, 2016</div>

				 
					<div class="col-xs-12 col-sm-3 col-md-3">
						<a href="#" class="up"> <span
							class="glyphicon glyphicon-arrow-up"></span>
						</a>
					</div>
				</div>
			</div>
		</div>
		<!-- .footer-bottom -->
	</footer>
	<div class="clearfix"></div>

	<!--[if (!IE)|(gt IE 8)]><!-->
	<script src="resources/js/jquery-2.1.3.min.js"></script>
	<!--<![endif]-->

	<!--[if lte IE 8]>
  <script src="resources/js/jquery-1.9.1.min.js"></script>
<![endif]-->
	<script src="resources/scripts/script.js"></script>
	<script src="resources/js/bootstrap.min.js"></script>
	<script src="resources/js/price-regulator/jshashtable-2.1_src.js"></script>
	<script
		src="resources/js/price-regulator/jquery.numberformatter-1.2.3.js"></script>
	<script src="resources/js/price-regulator/tmpl.js"></script>
	<script src="resources/js/price-regulator/jquery.dependClass-0.1.js"></script>
	<script src="resources/js/price-regulator/draggable-0.1.js"></script>
	<script src="resources/js/price-regulator/jquery.slider.js"></script>
	<script src="resources/js/jquery.carouFredSel-6.2.1-packed.js"></script>
	<script src="resources/js/jquery.touchwipe.min.js"></script>
	<script src="resources/js/jquery.elevateZoom-3.0.8.min.js"></script>
	<script src="resources/js/jquery.imagesloaded.min.js"></script>
	<script src="resources/js/jquery.appear.js"></script>
	<script src="resources/js/jquery.sparkline.min.js"></script>
	<script src="resources/js/jquery.easypiechart.min.js"></script>
	<script src="resources/js/jquery.easing.1.3.js"></script>
	<script src="resources/js/jquery.fancybox.pack.js"></script>
	<script src="resources/js/isotope.pkgd.min.js"></script>
	<script src="resources/js/jquery.knob.js"></script>
<!-- 	<script src="resources/js/jquery.selectBox.min.js"></script> -->
	<script src="resources/js/SmoothScroll.js"></script>
	<script src="resources/js/country.js"></script>
	<script src="resources/js/spin.min.js"></script>
	<script src="resources/js/ladda.min.js"></script>
	<script src="resources/js/masonry.pkgd.min.js"></script>
	<script src="resources/js/morris.min.js"></script>
	<script src="resources/js/raphael.min.js"></script>
	<script src="resources/js/video.js"></script>
	<script src="resources/js/pixastic.custom.js"></script>
	<script src="resources/js/livicons-1.4.min.js"></script>
	
	<script src="resources/js/bootstrapValidator.min.js"></script>
	<script src="resources/js/bootstrap-datepicker.js"></script>
	<script src="resources/js/jplayer/jquery.jplayer.min.js"></script>
	<script src="resources/js/jplayer/jplayer.playlist.min.js"></script>
	<script src="resources/js/jquery.scrollbar.min.js"></script>

	<script src="resources/js/jquery-ui.js"></script>

	<script src="resources/js/main.js"></script>
	<script type="text/javascript">
	   $(document).ready(function () {
		   
		   getUserInfo();

		   $("#inputFoodActivityDate").datepicker({ dateFormat: 'dd-mm-yy' })
		  						.datepicker("setDate", new Date());
		   
	        $("#inputSearchFood").autocomplete({
	            source: function (request, response) {
	                $.ajax({
	                    url: "/GetFoodSearchResultList",
	                    type: "GET",
	                    dataType: "json",
	                    data: { Prefix: request.term },
	                    success: function (data) {
	                    	console.log(data);
	                        response($.map(data.list, function (item) {
	                            return { label: item.name, value: item.ndbno };
	                        }))

	                    }
	                })
	            },	            
                select: function (event, ui) {
                	 event.preventDefault();                	
                	 $("#inputSearchFood").val(ui.item.label);
                	 $("#inputSelectedFoodNdbno").val(ui.item.value);      
                	 
                	 $("#inputTotalCalories").val(0);
                	 
                	 GetSelectedFoodDetailsByNdbno(ui.item.value);        
                },
	            messages: {
	                noResults: '',
	                results: function (resultsCount) { }
	            }
	        });
	        
	        //============CalculateTotalCalories===============
	        $("#inputAmount").on('keyup change', function (){
	        	CalculateTotalCalories();	        	
	        });      
	        
	        $('#selectMeasuresList').on('change', function() {
	        	CalculateTotalCalories();	        	
	        })
	        //============CalculateTotalCalories===============
	        
	    })
	    
	   
		function CalculateTotalCalories() {
		   $("#inputTotalCalories").val(0);
		   
			var measureValue = parseFloat($("#selectMeasuresList").val());
			var amount = parseFloat($("#inputAmount").val());

			var totalCalories = measureValue * amount;

			console.log("measure val: " + measureValue);
			console.log("amount: " + amount);
			console.log("totalCalories: " + totalCalories);
			
			if(!isNaN(totalCalories))
				{
					$("#inputTotalCalories").val(totalCalories);
				}

		}

		function GetSelectedFoodDetailsByNdbno(ndbno) {
			$("#divSelectedFoodDetailsContent").html("");
			
				$.ajax({
						url : "/GetFoodDetailsByNdbno",
						type : "GET",
						data : {
							ndbno : ndbno
						},
						dataType : "json",
						success : function(responseData, textStatus, jqXHR) {
							$('#inputAmount').val("");

							//get energy related nutrient entity
							var foodMeasures = responseData.energyNutrientsEntity.measures;

							console.log("response data: " + responseData);
							console.log("foodDetails: "
									+ responseData.foodDetails);
							console.log("nutrients:"
									+ responseData.foodDetails.nutrients);
							console.log("food measures:" + foodMeasures);

							console.log("responseData.nutritionalValuesHtml: "+ responseData.nutritionalValuesHtml);
																											
							$("#divSelectedFoodDetailsContent").html(responseData.nutritionalValuesHtml);

							$("#selectMeasuresList").empty();

							var measuresSelectHtml = "";

							var measuresList = [];
							$.each(foodMeasures, function(index, measure) {
								console.log("measure: "+ measure.label + " - "+ measure.value);
								measuresSelectHtml += '<option value="'+ measure.value +'">'+ measure.label+ '</option>';
							});

							$('#selectMeasuresList').append(measuresSelectHtml);

							$('#inputMeasureLabel').val(
									$('#selectMeasuresList option:selected')
											.text());

						},
						error : function(jqXHR, textStatus, errorThrown) {
							console.log("Error occured: textStatus:"
									+ textStatus + " jqXHR.responseText:"
									+ jqXHR.responseText);
						},

						beforeSend : function(jqXHR, settings) {
							
							$("#divSelectedFoodDetailsContentLoading").removeClass("hide");
							$("#divSelectedFoodDetailsContentLoading").addClass("show");
							
							$("#divSelectedFoodDetails").addClass("hide");
							$("#divSelectedFoodDetails").removeClass("show");
							
							$("#divLoadingMeasureLabel").removeClass("hide");
							$("#divLoadingMeasureLabel").addClass("showInline");
						},
						complete : function(jqXHR, textStatus) {
							$("#divSelectedFoodDetailsContentLoading").addClass("hide");
							$("#divSelectedFoodDetailsContentLoading").removeClass("show");
							
							$("#divSelectedFoodDetails").removeClass("hide");
							$("#divSelectedFoodDetails").addClass("show");
							
							$("#divLoadingMeasureLabel").removeClass(
									"showInline");
							$("#divLoadingMeasureLabel").addClass("hide");
						}
					})

		}

		GetRecentFoodActivityList();

		$("#btnClear").click(function(event) {
			event.preventDefault();

			$("#divSuccessMessage").html("");
			$("#divErrorMessage").html("");
		
			$("#divLoadingFoodAdd").removeClass("show");
			$("#divLoadingFoodAdd").addClass("hide");
			
			$("#inputSearchFood").val("");
			$("#inputSelectedFoodNdbno").val("");
			$("#inputMeasureLabel").val("");	
			$("#inputFoodActivityNotes").val("");	
			$("#inputAmount").val("");	
			$("#selectMeasuresList").val("");
			$("#selectMeasuresList").empty();		
			$("#inputTotalCalories").val("");
			$('#divActivityDeleteMessage').html("");
			
			$("#divSelectedFoodDetails").addClass("hide");
			$("#divSelectedFoodDetails").removeClass("show");
			
			$("#divSelectedFoodDetailsContent").html("");
			
			  $("#inputFoodActivityDate").datepicker({ dateFormat: 'dd-mm-yy' })
				.datepicker("setDate", new Date());
		});
		
		$("#btnFoodAdd").click(function(event) {

					$("#divSuccessMessage").html("");
					$("#divErrorMessage").html("");
					
					$('#divActivityDeleteMessage').html("");

					event.preventDefault();

					var $form = $("#formFoodAdd");
					var postData = $form.serialize();
					var url = "/FoodActivityAdd";

					$.ajax({
						headers : {
							'Accept' : 'application/json',
							'Content-Type' : 'application/json'
						},
						type : "GET",
						url : url,
						data : postData,
						contentType : "json",
						success : function(responseData, textStatus, jqXHR) {
							console.log("dataaa:" + responseData);
							$("#divSuccessMessage").html(responseData.message); 
							$("#divErrorMessage").html("");

							GetRecentFoodActivityList();
						},
						error : function(jqXHR, textStatus, errorThrown) {
							console.log("Error occured: textStatus:"
									+ textStatus + " jqXHR.responseText:"
									+ jqXHR.responseText);
							$("#divErrorMessage").html(
									"Error occured. Please try again later.");
							$("#divSuccessMessage").html("");
						},

						beforeSend : function(jqXHR, settings) {
							$("#divLoadingFoodAdd").removeClass("hide");
							$("#divLoadingFoodAdd").addClass("show");
						},

						complete : function(jqXHR, textStatus) {
							$("#divLoadingFoodAdd").removeClass("show");
							$("#divLoadingFoodAdd").addClass("hide");

						}
					})
				});

		function GetRecentFoodActivityList() {
			$('#divRecentActivityList').html("");
			$('#divMessage').html("");

			$.ajax({
				headers : {
					'Accept' : 'application/json',
					'Content-Type' : 'application/json'
				},
				type : "GET",
				url : "/GetRecentFoodActivityList",
				data : [],
				dataType : "json",

				success : function(data, textStatus, jqXHR) {
					console.log("data.success:" + data.success);
					if (data.success) {
						$('#divRecentActivityList').html(data.list);						
						$('#divTotalCalories').html("Total Calories Intake: "+ data.totalCalories + " kcal");	
					} else {
						console.log("Error occured: data.message:"
								+ data.message);

						$('#divMessage').addClass("show");
						$("#divMessage").addClass("errorMessage");
						$("#divMessage").html(
								"Error occured. Please try again later.");
					}
				},

				error : function(jqXHR, textStatus, errorThrown) {
					console.log("Error occured: textStatus:" + textStatus
							+ " jqXHR.responseText:" + jqXHR.responseText);
					$("#divMessage").addClass("errorMessage");
					$("#divMessage").html(
							"Error occured. Please try again later.");
				},

				beforeSend : function(jqXHR, settings) {
					$("#divLoading").removeClass("hide");
					$("#divArticleActivity").addClass("hide");
				},

				complete : function(jqXHR, textStatus) {
					$("#divLoading").addClass("hide");
					$("#divArticleActivity").removeClass("hide");
				}

			});

		}
		
		

		function DeleteUserFoodActivity(id){		
			 
			$('#divActivityList').html("");
			 
			$('#divActivityDeleteMessage').html("");		 			
			
			$.ajax({
				 headers: { 
				        'Accept': 'application/json',
				        'Content-Type': 'application/json' 
				    },
				type : "GET",
				url : "/DeleteUserFoodActivity?userFoodActivityId=" + id,
				data : [],
				dataType : "json",

				success : function(data, textStatus, jqXHR) {
					console.log("data.success:" + data.success);
					if (data.success) {
						$('#divActivityDeleteMessage').html(data.message);	
						
						GetRecentFoodActivityList();
								
					} else {
						$('#divActivityDeleteMessage').html(data.message);	
						
						console.log("Error occured: data.message:" + data.message);
						//$("#divRegisterMessage").html("<span class='errorMessage'>Error occured. Please try again later.</span>");				
					}
				},

				error : function(jqXHR, textStatus, errorThrown) {
					console.log("Error occured: textStatus:" + textStatus + " jqXHR.responseText:" + jqXHR.responseText );
				
					$('#divActivityDeleteMessage').html("Error occured. Please try again later");
				},

				beforeSend : function(jqXHR, settings) {
					$("#divLoadingActivityDelete").removeClass("hide");
					$("#divLoadingActivityDelete").addClass("show");						
				},

				complete : function(jqXHR, textStatus) {
					$("#divLoadingActivityDelete").addClass("hide");
					$("#divLoadingActivityDelete").removeClass("show");
				}

			});
			
		}		
		
	</script>
</body>
</html>

