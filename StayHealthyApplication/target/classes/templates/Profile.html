<!DOCTYPE html>
<html xlmns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>My Profile | Stay Healthy</title>
<meta name="keywords" content="HTML5 Template" />
<meta name="description"
	content="Progressive — Responsive Multipurpose HTML Template" />
<meta name="author" content="itembridge.com" />
<meta class="viewport" name="viewport"
	content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<!-- Favicon -->
<link rel="shortcut icon" href="resources/img/favicon.ico" />

<!-- Font -->
<link rel='stylesheet'
	href='http://fonts.googleapis.com/css?family=Arimo:400,700,400italic,700italic' />

<!-- Plugins CSS -->
<link rel="stylesheet" href="resources/css/bootstrap.css" />
<link rel="stylesheet" href="resources/css/font-awesome.min.css" />
<link rel="stylesheet" href="resources/css/jslider.css" />
<link rel="stylesheet" href="resources/css/revslider/settings.css" />
<link rel="stylesheet" href="resources/css/jquery.fancybox.css" />
<link rel="stylesheet" href="resources/css/animate.css" />
<link rel="stylesheet" href="resources/css/video-js.min.css" />
<link rel="stylesheet" href="resources/css/morris.css" />
<link rel="stylesheet" href="resources/css/royalslider/royalslider.css" />
<link rel="stylesheet"
	href="resources/css/royalslider/skins/minimal-white/rs-minimal-white.css" />
<link rel="stylesheet"
	href="resources/css/layerslider/css/layerslider.css" />
<link rel="stylesheet" href="resources/css/ladda.min.css" />
<link rel="stylesheet" href="resources/css/datepicker.css" />
<link rel="stylesheet" href="resources/css/jquery.scrollbar.css" />

<!-- Theme CSS -->
<link rel="stylesheet" href="resources/css/style.css" />

<link rel="stylesheet" href="resources/css/site.css" />

<!-- Custom CSS -->
<link rel="stylesheet" href="resources/css/customizer/pages.css" />
<link rel="stylesheet"
	href="resources/css/customizer/pages-pages-customizer.css" />

<!-- IE Styles-->
<link rel='stylesheet' href="resources/css/ie/ie.css" />

<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js" /></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js" /></script>
		<link rel='stylesheet' href="resources/css/ie/ie8.css" />
  <![endif]-->

</head>
<body>
	<div class="page-box">
		<div class="page-box-content">

			<div id="top-box">
				<div class="top-box-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-xs-9 col-sm-5">
								<div class="btn-group language btn-select"></div>
								<div class="btn-group currency btn-select"></div>
							</div>

							<div class="col-xs-3 col-sm-7">
								<div class="navbar navbar-inverse top-navbar top-navbar-right"
									role="navigation">
									<button type="button"
										class="navbar-toggle btn-navbar collapsed"
										data-toggle="collapse"
										data-target=".top-navbar .navbar-collapse">
										<span class="icon-bar"></span> <span class="icon-bar"></span>
										<span class="icon-bar"></span>
									</button>
									<nav class="collapse collapsing navbar-collapse">
										<ul class="nav navbar-nav navbar-right">
											<li><a href="/profile"><span id="spanUser"></span></a></li>
											<li><a href="/settings">Settings</a></li>
											<li><a href="#" onclick="logout()">Log out <i
													class="fa fa-lock after"></i></a></li>
										</ul>
									</nav>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- #top-box -->
			<header class="header">
				<div class="header-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-xs-6 col-md-2 col-lg-3 logo-box">
								<div class="logo">
									<a href="/home"> <img src="resources/img/logo.png"
										class="logo-img" alt="" />
									</a>
								</div>
							</div>
							<!-- .logo-box -->

							<div class="col-xs-6 col-md-10 col-lg-9 right-box">
								<div class="right-box-wrapper">
								
									<div class="primary">
										<div class="navbar navbar-default" role="navigation">
											<button type="button"
												class="navbar-toggle btn-navbar collapsed"
												data-toggle="collapse"
												data-target=".primary .navbar-collapse">
												<span class="text">Menu</span> <span class="icon-bar"></span>
												<span class="icon-bar"></span> <span class="icon-bar"></span>
											</button>

											<nav class="collapse collapsing navbar-collapse">
												<ul class="nav navbar-nav navbar-center">
												<li class="parent"><a href="#">Food Activity</a>
														<ul class="sub">
														<li><a href="/food-add">Add Food Activity</a></li>
															<li><a href="/my-food-activities">My Food Activities</a></li>
														</ul></li>
													<li class="parent"><a href="#">Physical Activity</a>
														<ul class="sub">
															<li><a href="/physical-activity-add">Add Physical Activity</a></li>
															<li><a href="/my-physical-activities">My Physical Activities</a></li>
															<li><a href="/physical-activity-list">Physical Activities List</a></li>
														</ul></li>
													<li class="parent"><a href="/statistics">Statistics</a></li>
												</ul>
											</nav>
										</div>
									</div>
									<!-- .primary -->
								</div>
							</div>

							<div class="phone-active col-sm-9 col-md-9">
								<a href="#" class="close"><span>close</span>×</a> <span
									class="title">Call Us</span> <strong>+1 (777) 123 45
									67</strong>
							</div>
							<div class="search-active col-sm-9 col-md-9">
								<a href="#" class="close"><span>close</span>×</a>

							</div>
						</div>
						<!--.row -->
					</div>
				</div>
				<!-- .header-wrapper -->
			</header>
			<!-- .header -->

			<div class="breadcrumb-box">
				<div class="container">
						<ul class="breadcrumb">
						<li><a href="/home">Home</a></li>
						<li class="active">My Profile</li>
					</ul>
				</div>
			</div>
			<!-- .breadcrumb-box -->

			<section id="main" class="login-register">
				<header class="page-header">
					<div class="container">
						<h1 class="title">My Profile</h1>
					</div>
				</header>
				<div class="container">
					<div class="row">
						<div class="content col-sm-9 col-md-9">
							<div id="divLoading" class="loading-content">
								<img src="/resources/img/loading_big.gif"
									style="display: block; margin: auto;" width="50px" />
							</div>		
							<div id="divBmiContainer">
							
							</div>
								<form class="form-horizontal" role="form" id="formUpdateMyInformations">
								<div class="form-group">
								  <label for="inputWeight" class="col-sm-2 control-label">Weight (kg):</label>
								  <div class="col-sm-10">
									<input type="text" class="form-control" id="inputWeight"  name="inputWeight" placeholder="Weight" 
									style="width:200px;"/>											
								  </div>
								</div>
								<div class="form-group">
								  <label for="inputHeight" class="col-sm-2 control-label">Height (cm):</label>
								  <div class="col-sm-10">
									<input type="text" class="form-control" id="inputHeight"  name="inputHeight" placeholder="Height" 
									style="width:200px;"/>											
								  </div>
								</div>
								<div class="form-group">
								  <label for="inputDateOfBirth" class="col-sm-2 control-label">Birth Date:</label>
								  <div class="col-sm-10">
									<input type="text" class="form-control" id="inputDateOfBirth"  name="inputDateOfBirth" placeholder="Birth Date" style="width:200px;"/>		
								  </div>
								</div>
								<div class="form-group">
								  <label for="inputHeight" class="col-sm-2 control-label">Gender:</label>
								  <div class="col-sm-10">
										<select id="selectGender" class="selectBox" style="width:200px !important;" name="selectGender">											
										<option value="1">Male</option><option value="0">Female</option>
										</select>									
								  </div>
								</div>
								
								<div class="form-group">
								  <label for="inputNotes" class="col-sm-2 control-label">Notes:</label>
								  <div class="col-sm-10">
									<textarea class="form-control" rows="3" id="inputNotes" name="inputNotes" placeholder="Notes"></textarea>	
								  </div>
								</div>
		
									<div class="form-group">
											<div class="col-sm-offset-2 col-sm-10">
												<table>
													<tr>
														<td>
															<button type="submit" class="btn btn-default"
																id="btnUpdateMyInformations">Update My Informations</button>														
														</td>
														<td><div id="divLoadingActivityAdd" class="hide">
																<img src="/resources/img/loading_big.gif"
																	style="display: block; margin: auto;" width="40px" />
															</div></td>
														<td><div id="divSuccessMessage" class="successMessage" style="padding-left: 10px;"></div>
														<div id="divErrorMessage" class="errorMessage" style="padding-left: 10px;"></div>
														</td>
													</tr>
												</table>
		
		
		
											</div>
										</div>
					</form>		
						 </div>
							
						
						<div id="sidebar" class="sidebar col-sm-3 col-md-3">
										<aside class="widget menu">										
										  <nav>
											<ul>
											 <li style="background-color:#cfdade;">
												<a href="/profile"><i class="fa fa-male item-icon"></i>My Profile</a>
											  </li>
											 <li>
												<a href="/settings"><i class="fa fa-gears item-icon"></i>My Settings</a>
											  </li>																				 
											</ul>
										  </nav>
							</aside><!-- .menu-->
						 </div>
					 </div>
				 </div>
				<!-- .container -->
			</section>
			<!-- #main -->

		</div>
		<!-- .page-box-content -->
	</div>
	<!-- .page-box -->

	<footer id="footer">
		<div class="footer-top">
			<div class="container">
				<div class="row sidebar">
					<aside class="col-xs-12 col-sm-6 col-md-3 widget social">
						<header>
							<h3 class="title">Follow Us</h3>
						</header>
						<p>Follow us in social media</p>
						<div class="social-list">
							<a class="icon rounded icon-facebook" href="#"><i
								class="fa fa-facebook"></i></a> <a class="icon rounded icon-twitter"
								href="#"><i class="fa fa-twitter"></i></a> <a
								class="icon rounded icon-google" href="#"><i
								class="fa fa-google"></i></a> <a class="icon rounded icon-linkedin"
								href="#"><i class="fa fa-linkedin"></i></a>
						</div>
						<div class="clearfix"></div>
					</aside>

					<aside class="col-xs-12 col-sm-6 col-md-3 widget newsletter">
						<header>
							<h3 class="title">Newsletter Signup</h3>
						</header>
						<div>
							<p>Sign up for newsletter</p>
							<div class="clearfix"></div>

						</div>
					</aside>
					<!-- .newsletter -->
 

					<aside class="col-xs-12 col-sm-6 col-md-3 widget links">
						<header>
							<h3 class="title">Information</h3>
						</header>
						<nav>
							<ul>
								<li><a href="#">About us</a></li>
								<li><a href="#">Privacy Policy</a></li>
								<li><a href="#">Terms &amp; Condotions</a></li>
								<li><a href="#">Secure payment</a></li>
							</ul>
						</nav>
					</aside>
				</div>
			</div>
		</div>
		<!-- .footer-top -->
		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					 <div class="copyright col-xs-12 col-sm-3 col-md-3">Copyright
						© StayHealthy, 2016</div>
						
					<div class="col-xs-12 col-sm-3 col-md-3">
						<a href="#" class="up"> <span
							class="glyphicon glyphicon-arrow-up"></span>
						</a>
					</div>
				</div>
			</div>
		</div>
		<!-- .footer-bottom -->
	</footer>
	<div class="clearfix"></div>

	<!--[if (!IE)|(gt IE 8)]><!-->
	<script src="resources/js/jquery-2.1.3.min.js"></script>
	<!--<![endif]-->

	<!--[if lte IE 8]>
  <script src="resources/js/jquery-1.9.1.min.js"></script>
<![endif]-->
	<script src="resources/scripts/script.js"></script>
	<script src="resources/js/bootstrap.min.js"></script>
	<script src="resources/js/price-regulator/jshashtable-2.1_src.js"></script>
	<script
		src="resources/js/price-regulator/jquery.numberformatter-1.2.3.js"></script>
	<script src="resources/js/price-regulator/tmpl.js"></script>
	<script src="resources/js/price-regulator/jquery.dependClass-0.1.js"></script>
	<script src="resources/js/price-regulator/draggable-0.1.js"></script>
	<script src="resources/js/price-regulator/jquery.slider.js"></script>
	<script src="resources/js/jquery.carouFredSel-6.2.1-packed.js"></script>
	<script src="resources/js/jquery.touchwipe.min.js"></script>
	<script src="resources/js/jquery.elevateZoom-3.0.8.min.js"></script>
	<script src="resources/js/jquery.imagesloaded.min.js"></script>
	<script src="resources/js/jquery.appear.js"></script>
	<script src="resources/js/jquery.sparkline.min.js"></script>
	<script src="resources/js/jquery.easypiechart.min.js"></script>
	<script src="resources/js/jquery.easing.1.3.js"></script>
	<script src="resources/js/jquery.fancybox.pack.js"></script>
	<script src="resources/js/isotope.pkgd.min.js"></script>
	<script src="resources/js/jquery.knob.js"></script>
<!--	<script src="resources/js/jquery.selectBox.min.js"></script> -->
	<script src="resources/js/SmoothScroll.js"></script>
	<script src="resources/js/country.js"></script>
	<script src="resources/js/spin.min.js"></script>
	<script src="resources/js/ladda.min.js"></script>
	<script src="resources/js/masonry.pkgd.min.js"></script>
	<script src="resources/js/morris.min.js"></script>
	<script src="resources/js/raphael.min.js"></script>
	<script src="resources/js/video.js"></script>
	<script src="resources/js/pixastic.custom.js"></script>
	<script src="resources/js/livicons-1.4.min.js"></script>
	<script src="resources/js/layerslider/greensock.js"></script>
	<!-- SLIDER REVOLUTION 5.0 EXTENSIONS  
	(Load Extensions only on Local File Systems !
	The following part can be removed on Server for On Demand Loading) -->
	<script src="resources/js/bootstrapValidator.min.js"></script>
	<script src="resources/js/bootstrap-datepicker.js"></script>
	<script src="resources/js/jplayer/jquery.jplayer.min.js"></script>
	<script src="resources/js/jplayer/jplayer.playlist.min.js"></script>
	<script src="resources/js/jquery.scrollbar.min.js"></script>
	<script src="resources/js/main.js"></script>
	<script type="text/javascript">
		  $(document).ready(function () {
			  
				getUserInfo();
				
				GetUserProfileInfo();
			
				$("#inputDateOfBirth").datepicker({ dateFormat: 'dd-mm-yy' })
		  })

		
	    function GetUserProfileInfo() {			   
			  
		   $("#divBmiContainer").html("");	
		   
		   $.ajax({
				url : "/GetUserProfileInfo",
				type : "GET",
				data : {},
				dataType : "json",
				success : function(responseData, textStatus, jqXHR) {
					
					$("#divBmiContainer").html(responseData.bmiHtml);		
					console.log("genderrrr:" + responseData.userDto.Gender);
					$("#selectGender").val("0");
					$("#inputWeight").val(responseData.userDto.Weight);
					$("#inputHeight").val(responseData.userDto.Height);
					$("#inputNotes").val(responseData.userDto.Notes);
					$("#inputDateOfBirth").val(responseData.userDto.DateOfBirthText);					
					
				},
				error : function(jqXHR, textStatus, errorThrown) {
					console.log("Error occured: textStatus:"
							+ textStatus + " jqXHR.responseText:"
							+ jqXHR.responseText);
				},

				beforeSend : function(jqXHR, settings) {
					$("#divLoading").removeClass("hide");
					$("#divLoading").addClass("show");
				},
				complete : function(jqXHR, textStatus) {
					$("#divLoading").removeClass("show");
					$("#divLoading").addClass("hide");
				}
			})

		}
		  
		  
			$("#btnUpdateMyInformations").click(function(event) {

				$("#divSuccessMessage").html("");
				$("#divErrorMessage").html("");
				
				event.preventDefault();
				
				var $form = $("#formUpdateMyInformations");	
				var postData = $form.serialize();
				var url = "/UpdateUserInformations";
				
				 $.ajax({
						headers: { 
					        'Accept': 'application/json',
					        'Content-Type': 'application/json' 
					    },			
			            type: "GET",
			            url: url,
			            data: postData,
			            contentType: "json",
			            success: function(responseData, textStatus, jqXHR) {
			            	console.log("dataaa:" + responseData);	
			            	
			  
							if (responseData.success == true) {
									$("#divSuccessMessage").html(responseData.message);
									$("#divErrorMessage").html("");
									
									GetUserProfileInfo();
									
								} else {
									$("#divSuccessMessage").html("");
									$("#divErrorMessage").html(responseData.message);									
								}
							
							},
							error : function(jqXHR, textStatus, errorThrown) {
								console.log("Error occured: textStatus:"
										+ textStatus + " jqXHR.responseText:"
										+ jqXHR.responseText);
								$("#divErrorMessage").html(
										"Error occured. Please try again later.");
								$("#divSuccessMessage").html("");
							},

							beforeSend : function(jqXHR, settings) {
								$("#divLoadingActivityAdd").removeClass("hide");
								$("#divLoadingActivityAdd").addClass("show");
							},

							complete : function(jqXHR, textStatus) {							
								$("#divLoadingActivityAdd").removeClass("show");
								$("#divLoadingActivityAdd").addClass("hide");

							}
						})
					});
		  
		  
	</script>
</body>
</html>

